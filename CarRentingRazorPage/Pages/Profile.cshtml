@page
@model CarRentingRazorPage.Pages.ProfileModel
@{
    Layout = "_LayoutProfile";
}
    
<body class="is-preload">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.1/css/all.min.css" integrity="sha256-2XFplPlrFClt0bIdPgpz8H7ojnk10H69xRqd9+uTShA=" crossorigin="anonymous" />
    <div id="wrapper">
        <!-- Header -->
        <header id="header">
            <div class="inner">

                <!-- Logo -->
                <a asp-page="/HomePage" class="logo">
                    <span class="fa fa-car"></span> <span class="title">CAR RENTAL WEBSITE</span>
                </a>

                <!-- Nav -->
                <nav>
                    <ul>
                        <li><a href="#menu">Menu</a></li>
                    </ul>
                </nav>

            </div>
        </header>

        <!-- Menu -->
        <nav id="menu">
            <h2>Menu</h2>
            <ul>
                <li><a asp-page="/HomePage" class="active">Home</a></li>

                <li><a asp-page="/Offers">Offers</a></li>
                <li><a asp-page="/Profile">Profile</a></li>
                
                <li><a asp-page-handler="Logout" asp-route-handler="OnGetLogout">Logout</a></li>
            </ul>
        </nav>

        <div class="container">
            <div class="row">
                <div class="col-12">

                    <div class="my-5">
                        <h3>My Profile</h3>
                        <hr>
                    </div>

                    <form class="file-upload" method="post">
                        <div class="row mb-5 gx-5">

                            <div class="col-xxl-8 mb-5 mb-xxl-0">
                                <div class="bg-secondary-soft px-4 py-5 rounded">
                                    <div class="row g-3">
                                        <p>
                                            <label asp-for="Customer.CustomerName" class="control-label"></label>
                                            <input asp-for="Customer.CustomerName" class="form-control" />
                                            <span asp-validation-for="Customer.CustomerName" class="text-danger"></span>
                                        </p>
                                        <p>
                                            <label asp-for="Customer.Email" class="control-label"></label>
                                            <input asp-for="Customer.Email" class="form-control" readonly="readonly" />
                                            <span asp-validation-for="Customer.Email" class="text-danger"></span>
                                        </p>
                                        <p>
                                            <label asp-for="Customer.CustomerBirthday" class="control-label"></label>
                                            <input asp-for="Customer.CustomerBirthday" type="date" class="form-control" readonly="readonly" />
                                            <span asp-validation-for="Customer.CustomerBirthday" class="text-danger"></span>
                                        </p>
                                        <p>
                                            <label asp-for="Customer.Telephone" class="control-label"></label>
                                            <input asp-for="Customer.Telephone" class="form-control" />
                                            <span asp-validation-for="Customer.Telephone" class="text-danger"></span>
                                        </p>
                                        <div class="form-group text-danger">
                                            @ViewData["notification"]
                                        </div>
                                        <input type="submit" value="Save" style="width: 100px; margin-left: 80px" class="btn btn-primary" />

                                    </div>
                                </div>
                            </div>
                            <div class="gap-3 d-md-flex justify-content-md-end text-center">
                                @*<button type="button" class="btn btn-danger btn-lg">Delete profile</button>*@
                                @*<a asp-page="./Edit" asp-route-id="@Model.Customer.Account.Id" type="button" class="btn btn-primary btn-lg">Update profile</a>*@
                            </div>

                            <div class="card">
                                <div class="card-body">
                                    <h5 class="card-title text-uppercase mb-0">Renting History</h5>
                                </div>
                                <div class="table-responsive">
                                    <table class="table no-wrap user-table mb-0">
                                        <thead>
                                            <tr>
                                                <th scope="col" class="border-0 text-uppercase font-medium">Renting Date</th>
                                                <th scope="col" class="border-0 text-uppercase font-medium">Total Price</th>
                                                <th scope="col" class="border-0 text-uppercase font-medium">Renting Status</th>
                                                <th scope="col" class="border-0 text-uppercase font-medium">Customer Name</th>
                                                <th scope="col" class="border-0 text-uppercase font-medium">Action</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @foreach (var item in Model.rentingTransactions)
                                            {
                                            <tr>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.RentingDate)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.TotalPrice)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.RentingStatus)
                                                    </td>
                                                    <td>
                                                        @Html.DisplayFor(modelItem => item.Customer.CustomerName)
                                                    </td>
                                                    <td>
                                                        <a asp-page="/RentingDetails" asp-route-id="@item.RentingTransationId">Details</a> |
                                                    </td>
                                            </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                        </div>

                    </form>
                </div>
            </div>
        </div>
        <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script type="text/javascript">

        </script>
    </div>
    
</body>